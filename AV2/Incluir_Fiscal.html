<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Incluir Fiscais</title>
    <script>
        function InserirFiscal() {
            let cpf1 = document.getElementById("cpf1").value;
            let cpf2 = document.getElementById("cpf2").value;
            let sala = document.getElementById("sala").value;
            let objForm2 = {"cpf1":cpf1,"cpf2":cpf2,"sala":sala};
            console.log("objForm2: " + objForm2);

            let xmlhttp = new XMLHttpRequest();
            console.log("1");
            xmlhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    console.log("Chegou a resposta OK: " + this.responseText);
                    console.log("2");
                } else
                if (this.readyState < 4) {
                    console.log("3: " + this.readyState);
                } else
                    console.log("Requisicao falhou: " + this.status);
            }
            console.log("4");
            xmlhttp.open("POST", "Incluir_Fiscais.php");
            xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xmlhttp.send("&sala=" + sala + "&cpf1=" + cpf1 + "&cpf2=" + cpf2);
            console.log("enviei form");
            console.log("5");
            document.getElementById("msg").innerHTML = "Incluidos";
        }
 
    </script>
</head>
<body>
<h1>Incluir Fiscais na Sala</h1>

<form action="" method=POST name="formFiscal" id="formFiscal">
    CPF do 1° Fiscal: <input type=number name="cpf1" id="cpf1" required> <br>
    CPF do 2° Fiscal: <input type=number name="cpf2" id="cpf2" required> <br>
    Número da Sala: <input type=number name="sala" id="sala" required> <br>
    <br><br>
    <input type="button" value="InserirFiscal" id='IncluirFiscal' onclick="InserirFiscal()">
</form>
<p id="msg"></p>
<br>
<a href="Principal.html">Voltar a tela Principal</a>
<script>

</script>
</body>
</html>